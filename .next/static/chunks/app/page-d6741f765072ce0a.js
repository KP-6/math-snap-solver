(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4363:function(e,t,a){Promise.resolve().then(a.bind(a,2971))},2971:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return g}});var s=a(7437),r=a(2265),l=a(8218),i=a(7053),n=a(535),o=a(4508);let d=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:a,variant:r,size:l,asChild:n=!1,...c}=e,u=n?i.g7:"button";return(0,s.jsx)(u,{className:(0,o.cn)(d({variant:r,size:l,className:a})),ref:t,...c})});c.displayName="Button";var u=a(9763);let m=(0,u.Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),x=(0,u.Z)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),f=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});f.displayName="Card",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",a),...r})}).displayName="CardHeader",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("h3",{ref:t,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})}).displayName="CardTitle",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("p",{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",a),...r})}).displayName="CardDescription",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,o.cn)("p-6 pt-0",a),...r})}).displayName="CardContent",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,o.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter";let p=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("textarea",{className:(0,o.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...r})});function h(e){let{imageSrc:t,onTextChange:a}=e,[l,i]=(0,r.useState)(""),[n,o]=(0,r.useState)(""),[d,u]=(0,r.useState)(""),[m,x]=(0,r.useState)(""),[h,v]=(0,r.useState)(null),g=async e=>{try{await new Promise(e=>setTimeout(e,1e3));let t="The equation is: 2x + 3 = 7\nSolve for x",s="2x + 3 = 7";i(t),o(s),u(t),x(s),v(e),null==a||a(t)}catch(e){console.error("OCR processing failed:",e)}};return(0,r.useEffect)(()=>{t?g(t):(i(""),o(""),u(""),x(""),v(null))},[t]),(0,s.jsxs)(f,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Verify & Edit Text"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Review extracted text. Edit if needed before solving."})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium",children:"Raw OCR - Full Text"}),(0,s.jsx)(p,{value:d,onChange:e=>u(e.target.value),className:"min-h-[100px]"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium",children:"Raw OCR - Isolated Expression"}),(0,s.jsx)(p,{value:m,onChange:e=>x(e.target.value),className:"min-h-[50px]"})]}),h&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium",children:"Preprocessed Image Preview"}),(0,s.jsx)("div",{className:"relative aspect-square",children:(0,s.jsx)("img",{src:h,alt:"Preprocessed",className:"w-full rounded-md"})})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(c,{variant:"outline",onClick:()=>{i(""),o(""),u(""),x(""),v(null)},children:"Clear"}),(0,s.jsx)(c,{onClick:()=>{console.log("Solving problem:",m)},children:"Solve Problem"})]})]})}function v(e){let{onFileSelect:t,onUploadSuccess:a}=e,{toast:i}=(0,l.pm)(),[n,o]=(0,r.useState)(!1),[d,u]=(0,r.useState)(null),[f,p]=(0,r.useState)(!1),[v,g]=(0,r.useState)(null),b=e=>{try{p(!0),u(e),t&&t(e);let s=new FileReader;s.onload=e=>{var t;g(null===(t=e.target)||void 0===t?void 0:t.result)},s.readAsDataURL(e),i({title:"Success",description:"File uploaded successfully"}),null==a||a()}catch(e){i({title:"Error",description:"Failed to upload file",variant:"destructive"})}finally{p(!1)}},N=async()=>{try{var e;let t=await navigator.mediaDevices.getUserMedia({video:!0}),a=document.createElement("video");a.srcObject=t,a.play(),await new Promise(e=>a.onloadedmetadata=e);let s=document.createElement("canvas");s.width=a.videoWidth,s.height=a.videoHeight,null===(e=s.getContext("2d"))||void 0===e||e.drawImage(a,0,0),s.toBlob(e=>{if(e){let t=new File([e],"photo.png",{type:"image/png"});b(t)}else i({title:"Error",description:"Failed to create image",variant:"destructive"})},"image/png"),t.getTracks().forEach(e=>e.stop()),a.remove(),s.remove()}catch(e){i({title:"Error",description:"Failed to access camera",variant:"destructive"})}};return(0,s.jsxs)("div",{onDragOver:e=>{e.preventDefault(),o(!0)},onDragLeave:e=>{e.preventDefault(),o(!1)},onDrop:e=>{e.preventDefault(),o(!1);let t=Array.from(e.dataTransfer.files);t.length>0&&b(t[0])},className:"transition-all duration-200 ".concat(n?"bg-primary/10":""),children:[(0,s.jsx)("div",{className:"flex flex-col items-center justify-center space-y-4",children:(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(0,s.jsx)("div",{className:"relative aspect-square w-32",children:d?(0,s.jsx)("img",{src:URL.createObjectURL(d),alt:"Preview",className:"object-cover rounded-lg"}):(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(0,s.jsx)(m,{className:"h-8 w-8 text-muted-foreground"}),(0,s.jsxs)("div",{className:"space-y-1 text-center",children:[(0,s.jsx)("h3",{className:"text-sm font-medium",children:"Drag & Drop"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"or click to upload"})]})]})}),(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,s.jsxs)(c,{variant:"outline",className:"w-full",onClick:()=>{let e=document.createElement("input");e.type="file",e.accept="image/*",e.onchange=e=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];a&&b(a)},e.click()},children:[(0,s.jsx)(m,{className:"mr-2 h-4 w-4"}),"Select File"]}),(0,s.jsxs)(c,{variant:"outline",className:"w-full",onClick:N,children:[(0,s.jsx)(x,{className:"mr-2 h-4 w-4"}),"Take Photo"]}),d&&(0,s.jsx)(c,{variant:"ghost",className:"w-full",onClick:()=>{u(null),t&&t(null),i({title:"Cleared",description:"File has been cleared"})},children:"Clear"})]})]})}),v&&(0,s.jsx)(h,{imageSrc:v,onTextChange:e=>{console.log("Extracted text:",e)}})]})}function g(){let{toast:e}=(0,l.pm)();return(0,s.jsx)("div",{className:"container mx-auto p-6",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsxs)(f,{className:"col-span-1 h-full",children:[(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-primary",children:"Upload Your Problem"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Drag & drop or capture an image of your math problem"})]}),(0,s.jsxs)("div",{className:"p-6 space-y-4",children:[(0,s.jsx)("div",{className:"relative aspect-square rounded-lg border-2 border-dashed border-input bg-muted",children:(0,s.jsx)("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-4",children:(0,s.jsx)(v,{onFileSelect:t=>{e({title:"Processing",description:"Your image is being processed...",duration:3e3})}})})}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(c,{variant:"outline",className:"flex-1",onClick:()=>navigator.mediaDevices.getUserMedia({video:!0}),children:[(0,s.jsx)(m,{className:"mr-2 h-4 w-4"}),"Capture from Camera"]}),(0,s.jsx)(c,{variant:"ghost",className:"flex-1",onClick:()=>{e({title:"Clear",description:"All fields have been cleared"})},children:"Clear"})]})]})]}),(0,s.jsxs)(f,{className:"col-span-1 h-full",children:[(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-primary",children:"Extracted Text"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Review and edit the extracted text before solving"})]}),(0,s.jsxs)("div",{className:"p-6 space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Full Text"}),(0,s.jsx)("textarea",{className:"min-h-[120px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"OCR text will appear here..."})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Math Expression"}),(0,s.jsx)("textarea",{className:"min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Isolated math expression..."})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(c,{variant:"default",className:"flex-1",onClick:()=>{e({title:"OCR Complete",description:"Text has been successfully extracted from your image.",duration:3e3})},children:[(0,s.jsx)(m,{className:"mr-2 h-4 w-4"}),"Correct with AI"]}),(0,s.jsx)(c,{variant:"ghost",className:"flex-1",onClick:()=>{e({title:"Clear",description:"Text fields have been cleared"})},children:"Clear Text"})]})]})]}),(0,s.jsxs)(f,{className:"col-span-1 h-full",children:[(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-primary",children:"Step-by-Step Solution"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Your problem will be solved here"})]}),(0,s.jsxs)("div",{className:"p-6 space-y-4",children:[(0,s.jsxs)("div",{className:"bg-muted/50 rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("h3",{className:"text-sm font-medium",children:"Problem Statement"}),(0,s.jsx)(c,{variant:"ghost",size:"icon",className:"h-6 w-6",children:(0,s.jsx)(m,{className:"h-4 w-4 animate-spin"})})]}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:(0,s.jsx)("p",{children:"No problem uploaded yet"})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(c,{variant:"default",className:"w-full",onClick:()=>{e({title:"Solving",description:"Your problem is being solved...",duration:3e3})},disabled:!0,children:[(0,s.jsx)(m,{className:"mr-2 h-4 w-4"}),"Solve Problem"]}),(0,s.jsx)(c,{variant:"destructive",className:"w-full",onClick:()=>{e({title:"Clear All",description:"All data has been cleared"})},children:"Clear All"})]})]})]})]})})}p.displayName="Textarea"},8218:function(e,t,a){"use strict";a.d(t,{ToasterProvider:function(){return g},pm:function(){return b}});var s=a(7437),r=a(2265),l=a(6249),i=a(535),n=a(2489),o=a(4508);let d=(0,i.j)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),c=r.forwardRef((e,t)=>{let{className:a,variant:r,...i}=e;return(0,s.jsxs)(l.fC,{ref:t,className:(0,o.cn)(d({variant:r}),a),...i,children:[(0,s.jsx)("div",{className:"flex flex-col gap-1",children:i.children}),(0,s.jsxs)(l.x8,{className:(0,o.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.toast-shown]:opacity-100 data-[state=open]:animate-out data-[state=open]:fade-out-80 data-[state=open]:slide-out-to-right-full",a),"toast-close-delay":0,children:[(0,s.jsx)(n.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})});c.displayName=l.fC.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.aU,{ref:t,className:(0,o.cn)('inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.toast-shown:has([data-state="open"])] invisible group-[.toast-shown:has([data-state="open"])] animate-out group-[.toast-shown:has([data-state="open"])] fade-out-80 group-[.toast-shown:has([data-state="open"])] slide-out-to-right-full',a),...r})}).displayName=l.aU.displayName;let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsxs)(l.x8,{ref:t,className:(0,o.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.toast-shown]:opacity-100 data-[state=open]:animate-out data-[state=open]:fade-out-80 data-[state=open]:slide-out-to-right-full",a),"toast-close-delay":0,...r,children:[(0,s.jsx)(n.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})});u.displayName=l.x8.displayName;let m=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.Dx,{ref:t,className:(0,o.cn)("text-sm font-semibold",a),...r})});m.displayName=l.Dx.displayName;let x=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.dk,{ref:t,className:(0,o.cn)("text-sm opacity-90",a),...r})});x.displayName=l.dk.displayName;let f=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.l_,{ref:t,className:(0,o.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",a),...r})});f.displayName=l.l_.displayName;let p=e=>{let{children:t}=e;return(0,s.jsxs)(l.zt,{children:[t,(0,s.jsx)(f,{})]})},h=(0,r.createContext)({visible:!1,update:()=>{},dismiss:()=>{},remove:()=>{},queueToast:()=>{},onOpenChange:()=>{},duration:5e3,className:void 0,style:void 0,title:void 0,description:void 0,action:void 0});function v(){let{visible:e,update:t,dismiss:a,onOpenChange:l,duration:i,className:n,style:o,title:d,description:v,action:g}=(0,r.useContext)(h);return(0,s.jsxs)(p,{children:[e&&(0,s.jsxs)(c,{open:e,onOpenChange:l,duration:i,className:"\n            ".concat(n,"\n            glass-card\n            shadow-lg\n            border\n            backdrop-blur-sm\n            animate-[slideIn_0.3s_ease-out]\n            data-[state=open]:animate-[slideIn_0.3s_ease-out]\n            data-[state=closed]:animate-[slideOut_0.2s_ease-in]\n          "),style:o,children:[(0,s.jsxs)("div",{className:"grid gap-1",children:[d&&(0,s.jsx)(m,{className:"text-primary/90",children:d}),v&&(0,s.jsx)(x,{className:"text-muted-foreground text-sm",children:v})]}),g,(0,s.jsx)(u,{className:"text-primary/80 hover:text-primary"})]}),(0,s.jsx)(f,{className:"glass-card backdrop-blur-sm border border-white/10"})]})}function g(e){let{children:t}=e,[a,l]=(0,r.useState)({}),[i,n]=(0,r.useState)([]);(0,r.useEffect)(()=>()=>clearTimeout(a.removeId),[a.removeId]);let o=(0,r.useCallback)(e=>{l(t=>({...t,...e}))},[]),d=(0,r.useCallback)(()=>{l({})},[]),c=(0,r.useCallback)(e=>{if(0===i.length)l(e);else{let t=[...i];t.push(e),t.length>1&&t.shift(),n(t)}},[]),u=(0,r.useCallback)(()=>{l(e=>{e.removeId&&clearTimeout(e.removeId);let t=setTimeout(()=>{let t=[...i];t.push(e),t.length>1&&t.shift(),n(t),l({})},1e6);return{...e,removeId:t}})},[i]),m={visible:!!a.open,update:o,dismiss:d,remove:u,queueToast:c,onOpenChange:()=>{},duration:5e3,className:a.className,style:a.style,title:a.title,description:a.description,action:a.action};return(0,s.jsxs)(h.Provider,{value:m,children:[(0,s.jsx)(v,{}),t]})}function b(){return(0,r.useContext)(h)}},4508:function(e,t,a){"use strict";a.d(t,{cn:function(){return l}});var s=a(1994),r=a(3335);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,s.W)(t))}}},function(e){e.O(0,[428,971,117,744],function(){return e(e.s=4363)}),_N_E=e.O()}]);